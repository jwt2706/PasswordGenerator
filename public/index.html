<!DOCTYPE html>
<html>
  <head>
    <title>Password Generator</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <div style="text-align: center">
        <img src="favicon.svg" alt="Favicon" />
        <h1>Password Generator</h1>
      </div>
      <br />
      <form id="password-form">
        <label for="length">Length:</label>
        <input type="number" id="length" name="length" min="1" value="10" />
        <button type="submit">Generate Password</button>
      </form>
      <div id="password-container" style="display: none">
        <p id="password"></p>
        <button id="copy-button">ðŸ“‹</button>
      </div>
      <button onclick="window.location.href='strength-test.html'">
        Test Password Strength
      </button>
    </div>
    <script>
      document
        .getElementById("password-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          var length = document.getElementById("length").value;
          fetch("/api/generate-password.go?length=" + length, {
            method: "POST",
          })
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              document.getElementById("password").innerText = data.password;
              document.getElementById("password-container").style.display =
                "block";
            })
            .catch(function (error) {
              console.error("Error:", error);
            });
        });

      document
        .getElementById("copy-button")
        .addEventListener("click", function () {
          var password = document.getElementById("password").innerText;
          navigator.clipboard.writeText(password);
        });
    </script>
  </body>
</html>
